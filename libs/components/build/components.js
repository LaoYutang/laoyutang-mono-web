"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const p=require("element-plus/es"),e=require("vue"),F=require("utils");const R=e.defineComponent({name:"cm-button"}),Q=e.defineComponent({...R,props:{handler:null},setup(t){const n=t,o=e.ref(!1),a=F._debounce(async l=>{o.value=!0;try{await n.handler(l)}catch{}o.value=!1});return(l,u)=>{const r=p.ElButton;return e.openBlock(),e.createBlock(r,e.mergeProps(l.$attrs,{loading:e.unref(o),onClick:e.unref(a)}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default",{},void 0,!0)]),_:3},16,["loading","onClick"])}}});const E=(t,n)=>{const o=t.__vccOpts||t;for(const[a,l]of n)o[a]=l;return o},C=E(Q,[["__scopeId","data-v-68fd51f0"]]),H={install(t){t.component(C.name,C)}},G=Object.freeze(Object.defineProperty({__proto__:null,CmButton:C,default:H},Symbol.toStringTag,{value:"Module"}));const q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},W=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M5.63604 5.63603C9.15076 2.12131 14.8492 2.12131 18.364 5.63603C21.8787 9.15075 21.8787 14.8492 18.364 18.364C14.8492 21.8787 9.15076 21.8787 5.63604 18.364C2.12132 14.8492 2.12132 9.15075 5.63604 5.63603Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate></path><path stroke-dasharray="18" stroke-dashoffset="18" d="M6 6L18 18"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="18;0"></animate></path></g>',1),A=[W];function J(t,n){return e.openBlock(),e.createElementBlock("svg",q,A)}const Z={name:"line-md-cancel",render:J},K={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},X=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate></path><path stroke-dasharray="14" stroke-dashoffset="14" d="M8 12L11 15L16 10"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="14;0"></animate></path></g>',1),Y=[X];function ee(t,n){return e.openBlock(),e.createElementBlock("svg",K,Y)}const te={name:"line-md-confirm-circle",render:ee};var T;const k=typeof window<"u",oe=t=>typeof t<"u",ne=t=>typeof t=="function";k&&((T=window==null?void 0:window.navigator)!=null&&T.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ae(t){return typeof t=="function"?t():e.unref(t)}function re(t){return t}function le(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function se(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function S(t){var n;const o=ae(t);return(n=o==null?void 0:o.$el)!=null?n:o}const L=k?window:void 0;k&&window.document;k&&window.navigator;k&&window.location;function ce(t,n=!1){const o=e.ref(),a=()=>o.value=Boolean(t());return a(),se(a,n),o}function ie(t){return JSON.parse(JSON.stringify(t))}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I="__vueuse_ssr_handlers__";P[I]=P[I]||{};P[I];var z=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,_e=(t,n)=>{var o={};for(var a in t)ue.call(t,a)&&n.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&z)for(var a of z(t))n.indexOf(a)<0&&de.call(t,a)&&(o[a]=t[a]);return o};function fe(t,n,o={}){const a=o,{window:l=L}=a,u=_e(a,["window"]);let r;const s=ce(()=>l&&"ResizeObserver"in l),i=()=>{r&&(r.disconnect(),r=void 0)},d=e.watch(()=>S(t),c=>{i(),s.value&&l&&c&&(r=new ResizeObserver(n),r.observe(c,u))},{immediate:!0,flush:"post"}),_=()=>{i(),d()};return le(_),{isSupported:s,stop:_}}function pe(t,n={width:0,height:0},o={}){const{window:a=L,box:l="content-box"}=o,u=e.computed(()=>{var i,d;return(d=(i=S(t))==null?void 0:i.namespaceURI)==null?void 0:d.includes("svg")}),r=e.ref(n.width),s=e.ref(n.height);return fe(t,([i])=>{const d=l==="border-box"?i.borderBoxSize:l==="content-box"?i.contentBoxSize:i.devicePixelContentBoxSize;if(a&&u.value){const _=S(t);if(_){const c=a.getComputedStyle(_);r.value=parseFloat(c.width),s.value=parseFloat(c.height)}}else if(d){const _=Array.isArray(d)?d:[d];r.value=_.reduce((c,{inlineSize:f})=>c+f,0),s.value=_.reduce((c,{blockSize:f})=>c+f,0)}else r.value=i.contentRect.width,s.value=i.contentRect.height},o),e.watch(()=>S(t),i=>{r.value=i?n.width:0,s.value=i?n.height:0}),{width:r,height:s}}var j;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(j||(j={}));var me=Object.defineProperty,M=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,D=(t,n,o)=>n in t?me(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,ge=(t,n)=>{for(var o in n||(n={}))he.call(n,o)&&D(t,o,n[o]);if(M)for(var o of M(n))ve.call(n,o)&&D(t,o,n[o]);return t};const be={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ge({linear:re},be);function Ce(t,n,o,a={}){var l,u,r;const{clone:s=!1,passive:i=!1,eventName:d,deep:_=!1,defaultValue:c}=a,f=e.getCurrentInstance(),m=o||(f==null?void 0:f.emit)||((l=f==null?void 0:f.$emit)==null?void 0:l.bind(f))||((r=(u=f==null?void 0:f.proxy)==null?void 0:u.$emit)==null?void 0:r.bind(f==null?void 0:f.proxy));let h=d;n||(n="modelValue"),h=d||h||`update:${n.toString()}`;const b=v=>s?ne(s)?s(v):ie(v):v,w=()=>oe(t[n])?b(t[n]):c;if(i){const v=w(),y=e.ref(v);return e.watch(()=>t[n],g=>y.value=b(g)),e.watch(y,g=>{(g!==t[n]||_)&&m(h,g)},{deep:_}),y}else return e.computed({get(){return w()},set(v){m(h,v)}})}const ye={class:"footer"},ke=e.defineComponent({name:"CmDialog"}),x=e.defineComponent({...ke,props:{modelValue:{type:Boolean},isShowButtons:{type:Boolean,default:!0},beforeconfrim:{type:Function,default:()=>Promise.reject()}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,a=Ce(o,"modelValue",n),l=()=>{o.beforeconfrim().then(()=>{a.value=!1}).catch(r=>r)},u=()=>{a.value=!1};return(r,s)=>{const i=C,d=p.ElDialog;return e.openBlock(),e.createBlock(d,e.mergeProps({modelValue:e.unref(a),"onUpdate:modelValue":s[0]||(s[0]=_=>e.isRef(a)?a.value=_:null)},r.$attrs,{class:"cm-dialog",draggable:"","close-on-click-modal":!1,"destroy-on-close":""}),e.createSlots({default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:2},[t.isShowButtons?{name:"footer",fn:e.withCtx(()=>[e.createElementVNode("div",ye,[e.createVNode(i,{handler:u,icon:e.unref(Z)},{default:e.withCtx(()=>[e.createTextVNode(" 取消 ")]),_:1},8,["icon"]),e.createVNode(i,{handler:l,type:"primary",icon:e.unref(te)},{default:e.withCtx(()=>[e.createTextVNode(" 提交 ")]),_:1},8,["icon"])])]),key:"0"}:void 0]),1040,["modelValue"])}}}),we={install(t){t.component(x.name,x)}},Se=Object.freeze(Object.defineProperty({__proto__:null,CmDialog:x,default:we},Symbol.toStringTag,{value:"Module"}));const xe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$e=e.createElementVNode("path",{fill:"currentColor",d:"M8.12 14.71L12 10.83l3.88 3.88a.996.996 0 1 0 1.41-1.41L12.7 8.71a.996.996 0 0 0-1.41 0L6.7 13.3a.996.996 0 0 0 0 1.41c.39.38 1.03.39 1.42 0z"},null,-1),Be=[$e];function Oe(t,n){return e.openBlock(),e.createElementBlock("svg",xe,Be)}const Ve={name:"ic-round-keyboard-arrow-up",render:Oe},Ne={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ee=e.createElementVNode("path",{fill:"currentColor",d:"M8.12 9.29L12 13.17l3.88-3.88a.996.996 0 1 1 1.41 1.41l-4.59 4.59a.996.996 0 0 1-1.41 0L6.7 10.7a.996.996 0 0 1 0-1.41c.39-.38 1.03-.39 1.42 0z"},null,-1),Pe=[Ee];function Ie(t,n){return e.openBlock(),e.createElementBlock("svg",Ne,Pe)}const Te={name:"ic-round-keyboard-arrow-down",render:Ie},ze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},je=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="16" stroke-dashoffset="16" d="M10.5 13.5L3 21"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.2s" values="16;0"></animate></path><path stroke-dasharray="40" stroke-dashoffset="40" d="M10.7574 13.2426C8.41421 10.8995 8.41421 7.10051 10.7574 4.75736C13.1005 2.41421 16.8995 2.41421 19.2426 4.75736C21.5858 7.10051 21.5858 10.8995 19.2426 13.2426C16.8995 15.5858 13.1005 15.5858 10.7574 13.2426Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="40;0"></animate></path></g>',1),Me=[je];function De(t,n){return e.openBlock(),e.createElementBlock("svg",ze,Me)}const Fe={name:"line-md-search",render:De},Le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ue=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="32" stroke-dashoffset="32" d="M12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V9.5"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.6s" values="32;0"></animate></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M6 9L3 12M6 9L9 12"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"></animate></path></g>',1),Re=[Ue];function Qe(t,n){return e.openBlock(),e.createElementBlock("svg",Le,Re)}const He={name:"line-md-rotate-270",render:Qe},Ge={class:"cm-filter"},qe={class:"buttons"},We=e.defineComponent({name:"CmFilter"}),Ae=e.defineComponent({...We,props:{queryHandler:{type:Function},resetHandler:{type:Function}},setup(t){const n=t,o=e.ref(!0),a=e.ref("50px"),l=e.ref(null),{height:u}=pe(l),r=()=>{o.value=!o.value,a.value=o.value?"50px":u.value.toString()+"px"};return(s,i)=>{const d=Te,_=Ve,c=C,f=p.ElButtonGroup;return e.openBlock(),e.createElementBlock("div",Ge,[e.createCommentVNode(" 左侧表单 "),e.createElementVNode("div",{class:"form",style:e.normalizeStyle(`height: ${e.unref(a)}`)},[e.createElementVNode("div",{ref_key:"slot",ref:l},[e.renderSlot(s.$slots,"default",{},void 0,!0)],512),e.unref(u)>50?(e.openBlock(),e.createBlock(c,{key:0,class:"form-fold_icon",handler:r,circle:"",text:"",bg:""},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(d,null,null,512),[[e.vShow,e.unref(o)]]),e.withDirectives(e.createVNode(_,null,null,512),[[e.vShow,!e.unref(o)]])]),_:1})):e.createCommentVNode("v-if",!0)],4),e.createCommentVNode(" 右侧按钮 "),e.createElementVNode("div",qe,[e.createVNode(f,null,{default:e.withCtx(()=>[e.createVNode(c,{type:"primary",icon:e.unref(Fe),handler:n.queryHandler},{default:e.withCtx(()=>[e.createTextVNode(" 查询 ")]),_:1},8,["icon","handler"]),e.createVNode(c,{icon:e.unref(He),handler:n.resetHandler},{default:e.withCtx(()=>[e.createTextVNode(" 重置 ")]),_:1},8,["icon","handler"])]),_:1})])])}}});const $=E(Ae,[["__scopeId","data-v-0d8d7aba"]]),Je={install(t){t.component($.name,$)}},Ze=Object.freeze(Object.defineProperty({__proto__:null,CmFilter:$,default:Je},Symbol.toStringTag,{value:"Module"}));const Ke=e.defineComponent({name:"CmInput"}),B=e.defineComponent({...Ke,props:{type:{default:"text"}},setup(t){const n=t;return(o,a)=>{const l=p.ElInput,u=p.ElInputNumber;return n.type!=="number"?(e.openBlock(),e.createBlock(l,e.mergeProps({key:0},o.$attrs,{type:n.type,clearable:""}),e.createSlots({_:2},[e.renderList(o.$slots,(r,s)=>({name:s,fn:e.withCtx(i=>[e.renderSlot(o.$slots,s,e.normalizeProps(e.guardReactiveProps(i)))])}))]),1040,["type"])):(e.openBlock(),e.createBlock(u,e.normalizeProps(e.mergeProps({key:1},o.$attrs)),null,16))}}}),Xe={install(t){t.component(B.name,B)}},Ye=Object.freeze(Object.defineProperty({__proto__:null,CmInput:B,default:Xe},Symbol.toStringTag,{value:"Module"}));const et=e.defineComponent({name:"CmSelect"}),O=e.defineComponent({...et,props:{type:{default:"normal"},getData:null,params:{default:""},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,a=e.ref([]),l=e.ref(!1),u=r=>{l.value=!0,o.getData(r).then(s=>{a.value=s}).finally(()=>{l.value=!1})};return u(o.params),e.watch(()=>o.params,()=>{n("update:modelValue",null),u(o.params)}),(r,s)=>{const i=p.ElOption,d=p.ElSelect,_=p.ElTreeSelect;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createCommentVNode(" 普通下拉框 "),o.type==="normal"?(e.openBlock(),e.createBlock(d,e.mergeProps({key:0},r.$attrs,{multiple:o.multiple,"show-checkbox":!1,"onUpdate:modelValue":s[0]||(s[0]=c=>r.$emit("update:modelValue",c))}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),c=>(e.openBlock(),e.createBlock(i,{key:c.value,label:c.label,value:c.value},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default",{data:c})]),_:2},1032,["label","value"]))),128))]),_:3},16,["multiple"])):o.type==="tree"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createCommentVNode(" 树形下拉框 "),e.createVNode(_,e.mergeProps(r.$attrs,{data:e.unref(a),multiple:o.multiple,"show-checkbox":o.multiple,"onUpdate:modelValue":s[1]||(s[1]=c=>r.$emit("update:modelValue",c))}),{default:e.withCtx(({data:c})=>[e.renderSlot(r.$slots,"default",{data:c})]),_:3},16,["data","multiple","show-checkbox"])],2112)):e.createCommentVNode("v-if",!0)],2112)}}}),tt={install(t){t.component(O.name,O)}},ot=Object.freeze(Object.defineProperty({__proto__:null,CmSelect:O,default:tt},Symbol.toStringTag,{value:"Module"})),nt={"aria-hidden":"true",class:"svg-icon"},at=["xlink:href"],rt=e.defineComponent({name:"CmSvg"}),lt=e.defineComponent({...rt,props:{prefix:{default:"icon"},name:null,widthScale:{default:1}},setup(t){const n=t;e.useCssVars(l=>({"88ae7cc6":e.unref(a)}));const o=e.computed(()=>`#${n.prefix}-${n.name}`),a=e.computed(()=>n.widthScale.toString()+"em");return(l,u)=>(e.openBlock(),e.createElementBlock("svg",nt,[e.createElementVNode("use",{"xlink:href":e.unref(o)},null,8,at)]))}});const V=E(lt,[["__scopeId","data-v-5865a63a"]]),st={install(t){t.component(V.name,V)}},ct=Object.freeze(Object.defineProperty({__proto__:null,CmSvg:V,default:st},Symbol.toStringTag,{value:"Module"}));const it={class:"cm-table"},ut={class:"buttons"},dt={class:"table"},_t={class:"pager"},ft=e.defineComponent({name:"CmTable"}),pt=e.defineComponent({...ft,props:{getData:null,isInitData:{type:Boolean,default:!0},initParams:{default:()=>({})},isUsePager:{type:Boolean,default:!0},isUseCheckBox:{type:Boolean,default:!0}},setup(t,{expose:n}){const o=t,a=e.ref([]),l=e.ref(!1),u=e.ref({}),r=e.reactive({pageSize:20,currentPage:1}),s=e.ref(0),i=e.ref(null),d=(m,h=!0)=>(m&&(u.value=F._deepClone(m)),h&&(r.currentPage=1),o.isUsePager&&(u.value.pager=r),l.value=!0,o.getData(u).then(b=>{a.value=b.datas,s.value=b.total}).catch().finally(()=>{l.value=!1}));o.isInitData&&d(o.initParams),e.watch(()=>r.currentPage,()=>{d(null,!1)}),e.watch(()=>r.pageSize,()=>{d()});const _=e.ref([]),c=m=>{_.value=m},f=e.reactive({a:1});return n({update:d,selection:_,test:f}),(m,h)=>{const b=p.ElTableColumn,w=p.ElTable,v=p.ElPagination,y=p.ElLoadingDirective;return e.withDirectives((e.openBlock(),e.createElementBlock("div",it,[e.createCommentVNode(" 操作按钮组 "),e.createElementVNode("div",ut,[e.renderSlot(m.$slots,"buttons",{selection:e.unref(_)},void 0,!0)]),e.createCommentVNode(" 表格主体 "),e.createElementVNode("div",dt,[e.createVNode(w,e.mergeProps({ref_key:"table",ref:i},m.$attrs,{data:e.unref(a),onSelectionChange:c}),{default:e.withCtx(()=>[o.isUseCheckBox?(e.openBlock(),e.createBlock(b,{key:0,type:"selection"})):e.createCommentVNode("v-if",!0),e.renderSlot(m.$slots,"default",{},void 0,!0)]),_:3},16,["data"])]),e.createCommentVNode(" 分页部分 "),e.createElementVNode("div",_t,[e.createVNode(v,{"page-size":e.unref(r).pageSize,"onUpdate:pageSize":h[0]||(h[0]=g=>e.unref(r).pageSize=g),"current-page":e.unref(r).currentPage,"onUpdate:currentPage":h[1]||(h[1]=g=>e.unref(r).currentPage=g),background:"",layout:"total, prev, pager, next","hide-on-single-page":"",total:e.unref(s)},null,8,["page-size","current-page","total"])])])),[[y,e.unref(l)]])}}});const N=E(pt,[["__scopeId","data-v-175e1406"]]),mt={install(t){t.component(N.name,N)}},ht=Object.freeze(Object.defineProperty({__proto__:null,CmTable:N,default:mt},Symbol.toStringTag,{value:"Module"})),U=[],vt=Object.assign({"./CmButton/index.ts":G,"./CmDialog/index.ts":Se,"./CmFilter/index.ts":Ze,"./CmInput/index.ts":Ye,"./CmSelect/index.ts":ot,"./CmSvg/index.ts":ct,"./CmTable/index.ts":ht}),gt=async()=>{for(const t of Object.values(vt))U.push(t.default)};gt();const bt={install(t){U.forEach(n=>{t.use(n)})}};exports.CmButton=C;exports.CmDialog=x;exports.CmFilter=$;exports.CmInput=B;exports.CmSelect=O;exports.CmSvg=V;exports.CmTable=N;exports.default=bt;
