"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("element-plus/es"),e=require("vue"),z=require("utils");const M=e.defineComponent({name:"cm-button"}),U=e.defineComponent({...M,props:{handler:null},setup(t){const o=t,n=e.ref(!1),s=z._debounce(async l=>{n.value=!0;try{await o.handler(l)}catch{}n.value=!1});return(l,c)=>{const a=f.ElButton;return e.openBlock(),e.createBlock(a,e.mergeProps(l.$attrs,{loading:e.unref(n),onClick:e.unref(s)}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default",{},void 0,!0)]),_:3},16,["loading","onClick"])}}});const I=(t,o)=>{const n=t.__vccOpts||t;for(const[s,l]of o)n[s]=l;return n},y=I(U,[["__scopeId","data-v-68fd51f0"]]),F={install(t){t.component(y.name,y)}},L=Object.freeze(Object.defineProperty({__proto__:null,CmButton:y,default:F},Symbol.toStringTag,{value:"Module"}));const Q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},R=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M5.63604 5.63603C9.15076 2.12131 14.8492 2.12131 18.364 5.63603C21.8787 9.15075 21.8787 14.8492 18.364 18.364C14.8492 21.8787 9.15076 21.8787 5.63604 18.364C2.12132 14.8492 2.12132 9.15075 5.63604 5.63603Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate></path><path stroke-dasharray="18" stroke-dashoffset="18" d="M6 6L18 18"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="18;0"></animate></path></g>',1),q=[R];function G(t,o){return e.openBlock(),e.createElementBlock("svg",Q,q)}const J={name:"line-md-cancel",render:G},W={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},A=e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"></animate></path><path stroke-dasharray="14" stroke-dashoffset="14" d="M8 12L11 15L16 10"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="14;0"></animate></path></g>',1),H=[A];function Z(t,o){return e.openBlock(),e.createElementBlock("svg",W,H)}const K={name:"line-md-confirm-circle",render:Z};var N;const x=typeof window<"u",X=t=>typeof t<"u",Y=t=>typeof t=="function";x&&((N=window==null?void 0:window.navigator)!=null&&N.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ee(t){return t}x&&window.document;x&&window.navigator;x&&window.location;function te(t){return JSON.parse(JSON.stringify(t))}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__";P[V]=P[V]||{};P[V];var E;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(E||(E={}));var ne=Object.defineProperty,T=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,j=(t,o,n)=>o in t?ne(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,le=(t,o)=>{for(var n in o||(o={}))oe.call(o,n)&&j(t,n,o[n]);if(T)for(var n of T(o))ae.call(o,n)&&j(t,n,o[n]);return t};const se={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};le({linear:ee},se);function re(t,o,n,s={}){var l,c,a;const{clone:r=!1,passive:m=!1,eventName:u,deep:g=!1,defaultValue:i}=s,d=e.getCurrentInstance(),p=n||(d==null?void 0:d.emit)||((l=d==null?void 0:d.$emit)==null?void 0:l.bind(d))||((a=(c=d==null?void 0:d.proxy)==null?void 0:c.$emit)==null?void 0:a.bind(d==null?void 0:d.proxy));let _=u;o||(o="modelValue"),_=u||_||`update:${o.toString()}`;const b=v=>r?Y(r)?r(v):te(v):v,k=()=>X(t[o])?b(t[o]):i;if(m){const v=k(),C=e.ref(v);return e.watch(()=>t[o],h=>C.value=b(h)),e.watch(C,h=>{(h!==t[o]||g)&&p(_,h)},{deep:g}),C}else return e.computed({get(){return k()},set(v){p(_,v)}})}const ce={class:"footer"},ie=e.defineComponent({name:"CmDialog"}),S=e.defineComponent({...ie,props:{modelValue:{type:Boolean},isShowButtons:{type:Boolean,default:!0},beforeconfrim:{type:Function,default:()=>Promise.reject()}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,s=re(n,"modelValue",o),l=()=>{n.beforeconfrim().then(()=>{s.value=!1}).catch(a=>a)},c=()=>{s.value=!1};return(a,r)=>{const m=y,u=f.ElDialog;return e.openBlock(),e.createBlock(u,e.mergeProps({modelValue:e.unref(s),"onUpdate:modelValue":r[0]||(r[0]=g=>e.isRef(s)?s.value=g:null)},a.$attrs,{class:"cm-dialog",draggable:"","close-on-click-modal":!1,"destroy-on-close":""}),e.createSlots({default:e.withCtx(()=>[e.renderSlot(a.$slots,"default")]),_:2},[t.isShowButtons?{name:"footer",fn:e.withCtx(()=>[e.createElementVNode("div",ce,[e.createVNode(m,{handler:c,icon:e.unref(J)},{default:e.withCtx(()=>[e.createTextVNode(" 取消 ")]),_:1},8,["icon"]),e.createVNode(m,{handler:l,type:"primary",icon:e.unref(K)},{default:e.withCtx(()=>[e.createTextVNode(" 提交 ")]),_:1},8,["icon"])])]),key:"0"}:void 0]),1040,["modelValue"])}}}),ue={install(t){t.component(S.name,S)}},de=Object.freeze(Object.defineProperty({__proto__:null,CmDialog:S,default:ue},Symbol.toStringTag,{value:"Module"}));const pe=e.defineComponent({name:"CmInput"}),w=e.defineComponent({...pe,props:{type:{default:"text"}},setup(t){const o=t;return(n,s)=>{const l=f.ElInput,c=f.ElInputNumber;return o.type!=="number"?(e.openBlock(),e.createBlock(l,e.mergeProps({key:0},n.$attrs,{type:o.type,clearable:""}),e.createSlots({_:2},[e.renderList(n.$slots,(a,r)=>({name:r,fn:e.withCtx(m=>[e.renderSlot(n.$slots,r,e.normalizeProps(e.guardReactiveProps(m)))])}))]),1040,["type"])):(e.openBlock(),e.createBlock(c,e.normalizeProps(e.mergeProps({key:1},n.$attrs)),null,16))}}}),_e={install(t){t.component(w.name,w)}},fe=Object.freeze(Object.defineProperty({__proto__:null,CmInput:w,default:_e},Symbol.toStringTag,{value:"Module"}));const me=e.defineComponent({name:"CmSelect"}),O=e.defineComponent({...me,props:{type:{default:"normal"},getData:null,params:{default:""},multiple:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:o}){const n=t,s=e.ref([]),l=e.ref(!1),c=a=>{l.value=!0,n.getData(a).then(r=>{s.value=r}).finally(()=>{l.value=!1})};return c(n.params),e.watch(()=>n.params,()=>{o("update:modelValue",null),c(n.params)}),(a,r)=>{const m=f.ElOption,u=f.ElSelect,g=f.ElTreeSelect;return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createCommentVNode(" 普通下拉框 "),n.type==="normal"?(e.openBlock(),e.createBlock(u,e.mergeProps({key:0},a.$attrs,{multiple:n.multiple,"show-checkbox":!1,"onUpdate:modelValue":r[0]||(r[0]=i=>a.$emit("update:modelValue",i))}),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s),i=>(e.openBlock(),e.createBlock(m,{key:i.value,label:i.label,value:i.value},{default:e.withCtx(()=>[e.renderSlot(a.$slots,"default",{data:i})]),_:2},1032,["label","value"]))),128))]),_:3},16,["multiple"])):n.type==="tree"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createCommentVNode(" 树形下拉框 "),e.createVNode(g,e.mergeProps(a.$attrs,{data:e.unref(s),multiple:n.multiple,"show-checkbox":n.multiple,"onUpdate:modelValue":r[1]||(r[1]=i=>a.$emit("update:modelValue",i))}),{default:e.withCtx(({data:i})=>[e.renderSlot(a.$slots,"default",{data:i})]),_:3},16,["data","multiple","show-checkbox"])],2112)):e.createCommentVNode("v-if",!0)],2112)}}}),ge={install(t){t.component(O.name,O)}},ve=Object.freeze(Object.defineProperty({__proto__:null,CmSelect:O,default:ge},Symbol.toStringTag,{value:"Module"})),he={"aria-hidden":"true",class:"svg-icon"},be=["xlink:href"],Ce=e.defineComponent({name:"CmSvg"}),ye=e.defineComponent({...Ce,props:{prefix:{default:"icon"},name:null,widthScale:{default:1}},setup(t){const o=t;e.useCssVars(l=>({"88ae7cc6":e.unref(s)}));const n=e.computed(()=>`#${o.prefix}-${o.name}`),s=e.computed(()=>o.widthScale.toString()+"em");return(l,c)=>(e.openBlock(),e.createElementBlock("svg",he,[e.createElementVNode("use",{"xlink:href":e.unref(n)},null,8,be)]))}});const B=I(ye,[["__scopeId","data-v-5865a63a"]]),ke={install(t){t.component(B.name,B)}},Se=Object.freeze(Object.defineProperty({__proto__:null,CmSvg:B,default:ke},Symbol.toStringTag,{value:"Module"}));const we={class:"cm-table"},Oe={class:"buttons"},Be={class:"table"},$e={class:"pager"},xe=e.defineComponent({name:"CmTable"}),Pe=e.defineComponent({...xe,props:{getData:null,isInitData:{type:Boolean,default:!0},initParams:{default:()=>({})},isUsePager:{type:Boolean,default:!0},isUseCheckBox:{type:Boolean,default:!0}},setup(t,{expose:o}){const n=t,s=e.ref([]),l=e.ref(!1),c=e.ref({}),a=e.reactive({pageSize:20,currentPage:1}),r=e.ref(0),m=e.ref(null),u=(p,_=!0)=>(p&&(c.value=z._deepClone(p)),_&&(a.currentPage=1),n.isUsePager&&(c.value.pager=a),l.value=!0,n.getData(c).then(b=>{s.value=b.datas,r.value=b.total}).catch().finally(()=>{l.value=!1}));n.isInitData&&u(n.initParams),e.watch(()=>a.currentPage,()=>{u(null,!1)}),e.watch(()=>a.pageSize,()=>{u()});const g=e.ref([]),i=p=>{g.value=p},d=e.reactive({a:1});return o({update:u,selection:g,test:d}),(p,_)=>{const b=f.ElTableColumn,k=f.ElTable,v=f.ElPagination,C=f.ElLoadingDirective;return e.withDirectives((e.openBlock(),e.createElementBlock("div",we,[e.createCommentVNode(" 操作按钮组 "),e.createElementVNode("div",Oe,[e.renderSlot(p.$slots,"buttons",{selection:e.unref(g)},void 0,!0)]),e.createCommentVNode(" 表格主体 "),e.createElementVNode("div",Be,[e.createVNode(k,e.mergeProps({ref_key:"table",ref:m},p.$attrs,{data:e.unref(s),onSelectionChange:i}),{default:e.withCtx(()=>[n.isUseCheckBox?(e.openBlock(),e.createBlock(b,{key:0,type:"selection"})):e.createCommentVNode("v-if",!0),e.renderSlot(p.$slots,"default",{},void 0,!0)]),_:3},16,["data"])]),e.createCommentVNode(" 分页部分 "),e.createElementVNode("div",$e,[e.createVNode(v,{"page-size":e.unref(a).pageSize,"onUpdate:pageSize":_[0]||(_[0]=h=>e.unref(a).pageSize=h),"current-page":e.unref(a).currentPage,"onUpdate:currentPage":_[1]||(_[1]=h=>e.unref(a).currentPage=h),background:"",layout:"total, prev, pager, next","hide-on-single-page":"",total:e.unref(r)},null,8,["page-size","current-page","total"])])])),[[C,e.unref(l)]])}}});const $=I(Pe,[["__scopeId","data-v-175e1406"]]),Ve={install(t){t.component($.name,$)}},Ie=Object.freeze(Object.defineProperty({__proto__:null,CmTable:$,default:Ve},Symbol.toStringTag,{value:"Module"})),D=[],Ne=Object.assign({"./CmButton/index.ts":L,"./CmDialog/index.ts":de,"./CmInput/index.ts":fe,"./CmSelect/index.ts":ve,"./CmSvg/index.ts":Se,"./CmTable/index.ts":Ie}),Ee=async()=>{for(const t of Object.values(Ne))D.push(t.default)};Ee();const Te={install(t){D.forEach(o=>{t.use(o)})}};exports.CmButton=y;exports.CmDialog=S;exports.CmInput=w;exports.CmSelect=O;exports.CmSvg=B;exports.CmTable=$;exports.default=Te;
