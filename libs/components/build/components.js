"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("element-plus/es"),e=require("vue"),T=require("utils");const I=e.defineComponent({name:"cm-button"}),E=e.defineComponent({...I,props:{handler:null},setup(t){const o=t,n=e.ref(!1),s=async a=>{n.value=!0;try{await o.handler(a)}catch{}n.value=!1};return(a,c)=>{const l=u.ElButton;return e.openBlock(),e.createBlock(l,e.mergeProps(a.$attrs,{loading:e.unref(n),onClick:s}),{default:e.withCtx(()=>[e.renderSlot(a.$slots,"default",{},void 0,!0)]),_:3},16,["loading"])}}});const C=(t,o)=>{const n=t.__vccOpts||t;for(const[s,a]of o)n[s]=a;return n},d=C(E,[["__scopeId","data-v-5e79745c"]]),O={install(t){t.component(d.name,d)}},z=Object.freeze(Object.defineProperty({__proto__:null,CmButton:d,default:O},Symbol.toStringTag,{value:"Module"}));const N=e.defineComponent({name:"CmInput"}),m=e.defineComponent({...N,props:{type:{default:"text"}},setup(t){const o=t;return(n,s)=>{const a=u.ElInput,c=u.ElInputNumber;return o.type!=="number"?(e.openBlock(),e.createBlock(a,e.mergeProps({key:0},n.$attrs,{type:o.type,clearable:""}),null,16,["type"])):(e.openBlock(),e.createBlock(c,e.normalizeProps(e.mergeProps({key:1},n.$attrs)),null,16))}}}),j={install(t){t.component(m.name,m)}},V=Object.freeze(Object.defineProperty({__proto__:null,CmInput:m,default:j},Symbol.toStringTag,{value:"Module"})),w={"aria-hidden":"true",class:"svg-icon"},D=["xlink:href"],M=e.defineComponent({name:"CmSvg"}),U=e.defineComponent({...M,props:{prefix:{default:"icon"},name:null,widthScale:{default:1}},setup(t){const o=t;e.useCssVars(a=>({"88ae7cc6":e.unref(s)}));const n=e.computed(()=>`#${o.prefix}-${o.name}`),s=e.computed(()=>o.widthScale.toString()+"em");return(a,c)=>(e.openBlock(),e.createElementBlock("svg",w,[e.createElementVNode("use",{"xlink:href":e.unref(n)},null,8,D)]))}});const f=C(U,[["__scopeId","data-v-5865a63a"]]),q={install(t){t.component(f.name,f)}},L=Object.freeze(Object.defineProperty({__proto__:null,CmSvg:f,default:q},Symbol.toStringTag,{value:"Module"}));const G={class:"cm-table"},W={class:"buttons"},A={class:"table"},F={class:"pager"},H=e.defineComponent({name:"CmTable"}),J=e.defineComponent({...H,props:{getData:null,isInitData:{type:Boolean,default:!0},initParams:{default:()=>({})},isUsePager:{type:Boolean,default:!0},isUseCheckBox:{type:Boolean,default:!0}},setup(t,{expose:o}){const n=t,s=e.ref([]),a=e.ref(!1),c=e.ref({}),l=e.reactive({pageSize:20,currentPage:1}),y=e.ref(0),S=e.ref(null),_=(r,i=!0)=>(r&&(c.value=T._deepClone(r)),i&&(l.currentPage=1),n.isUsePager&&(c.value.pager=l),a.value=!0,n.getData(c).then(p=>{s.value=p.datas,y.value=p.total}).catch().finally(()=>{a.value=!1}));n.isInitData&&_(n.initParams),e.watch(()=>l.currentPage,()=>{_(null,!1)}),e.watch(()=>l.pageSize,()=>{_()});const v=e.ref([]),k=r=>{v.value=r},x=e.reactive({a:1});return o({update:_,selection:v,test:x}),(r,i)=>{const p=u.ElTableColumn,P=u.ElTable,B=u.ElPagination,$=u.ElLoadingDirective;return e.withDirectives((e.openBlock(),e.createElementBlock("div",G,[e.createCommentVNode(" 操作按钮组 "),e.createElementVNode("div",W,[e.renderSlot(r.$slots,"buttons",{selection:e.unref(v)},void 0,!0)]),e.createCommentVNode(" 表格主体 "),e.createElementVNode("div",A,[e.createVNode(P,e.mergeProps({ref_key:"table",ref:S},r.$attrs,{data:e.unref(s),onSelectionChange:k}),{default:e.withCtx(()=>[n.isUseCheckBox?(e.openBlock(),e.createBlock(p,{key:0,type:"selection"})):e.createCommentVNode("v-if",!0),e.renderSlot(r.$slots,"default",{},void 0,!0)]),_:3},16,["data"])]),e.createCommentVNode(" 分页部分 "),e.createElementVNode("div",F,[e.createVNode(B,{"page-size":e.unref(l).pageSize,"onUpdate:pageSize":i[0]||(i[0]=b=>e.unref(l).pageSize=b),"current-page":e.unref(l).currentPage,"onUpdate:currentPage":i[1]||(i[1]=b=>e.unref(l).currentPage=b),background:"",layout:"total, prev, pager, next","hide-on-single-page":"",total:e.unref(y)},null,8,["page-size","current-page","total"])])])),[[$,e.unref(a)]])}}});const g=C(J,[["__scopeId","data-v-175e1406"]]),K={install(t){t.component(g.name,g)}},Q=Object.freeze(Object.defineProperty({__proto__:null,CmTable:g,default:K},Symbol.toStringTag,{value:"Module"})),h=[],R=Object.assign({"./CmButton/index.ts":z,"./CmInput/index.ts":V,"./CmSvg/index.ts":L,"./CmTable/index.ts":Q}),X=async()=>{for(const t of Object.values(R))h.push(t.default)};X();const Y={install(t){h.forEach(o=>{t.use(o)})}};exports.CmButton=d;exports.CmInput=m;exports.CmSvg=f;exports.CmTable=g;exports.default=Y;
