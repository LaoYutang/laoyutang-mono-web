"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const P=require("element-plus/es"),t=require("vue"),S=require("utils");const E=t.defineComponent({name:"cm-button"}),T=t.defineComponent({...E,props:{handler:null},setup(e){const n=e,o=t.ref(!1),a=S._debounce(async l=>{o.value=!0;try{await n.handler(l)}catch{}o.value=!1});return(l,i)=>{const s=P.ElButton;return t.openBlock(),t.createBlock(s,t.mergeProps(l.$attrs,{loading:t.unref(o),onClick:t.unref(a)}),{default:t.withCtx(()=>[t.renderSlot(l.$slots,"default",{},void 0,!0)]),_:3},16,["loading","onClick"])}}});const Q=(e,n)=>{const o=e.__vccOpts||e;for(const[a,l]of n)o[a]=l;return o},$=Q(T,[["__scopeId","data-v-68fd51f0"]]);var I;const v=typeof window<"u",F=e=>typeof e<"u",k=e=>typeof e=="function";v&&((I=window==null?void 0:window.navigator)!=null&&I.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function j(e){return e}v&&window.document;v&&window.navigator;v&&window.location;function D(e){return JSON.parse(JSON.stringify(e))}const O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w="__vueuse_ssr_handlers__";O[w]=O[w]||{};O[w];var V;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(V||(V={}));var q=Object.defineProperty,N=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,x=(e,n,o)=>n in e?q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,R=(e,n)=>{for(var o in n||(n={}))J.call(n,o)&&x(e,o,n[o]);if(N)for(var o of N(n))M.call(n,o)&&x(e,o,n[o]);return e};const U={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};R({linear:j},U);function A(e,n,o,a={}){var l,i,s;const{clone:c=!1,passive:d=!1,eventName:f,deep:_=!1,defaultValue:B}=a,r=t.getCurrentInstance(),h=o||(r==null?void 0:r.emit)||((l=r==null?void 0:r.$emit)==null?void 0:l.bind(r))||((s=(i=r==null?void 0:r.proxy)==null?void 0:i.$emit)==null?void 0:s.bind(r==null?void 0:r.proxy));let p=f;n||(n="modelValue"),p=f||p||`update:${n.toString()}`;const C=u=>c?k(c)?c(u):D(u):u,b=()=>F(e[n])?C(e[n]):B;if(d){const u=b(),g=t.ref(u);return t.watch(()=>e[n],m=>g.value=C(m)),t.watch(g,m=>{(m!==e[n]||_)&&h(p,m)},{deep:_}),g}else return t.computed({get(){return b()},set(u){h(p,u)}})}const G={class:"footer"},H=t.defineComponent({name:"CmDialog"}),y=t.defineComponent({...H,props:{modelValue:{type:Boolean},isShowButtons:{type:Boolean,default:!0},beforeconfrim:{type:Function,default:()=>Promise.reject()}},emits:["update:modelValue"],setup(e,{emit:n}){const o=e,a=A(o,"modelValue",n),l=()=>{o.beforeconfrim().then(()=>{a.value=!1}).catch(s=>s)},i=()=>{a.value=!1};return(s,c)=>{const d=$,f=P.ElDialog;return t.openBlock(),t.createBlock(f,t.mergeProps({modelValue:t.unref(a),"onUpdate:modelValue":c[0]||(c[0]=_=>t.isRef(a)?a.value=_:null)},s.$attrs,{class:"cm-dialog",draggable:"","close-on-click-modal":!1,"destroy-on-close":""}),t.createSlots({default:t.withCtx(()=>[t.renderSlot(s.$slots,"default")]),_:2},[e.isShowButtons?{name:"footer",fn:t.withCtx(()=>[t.createElementVNode("div",G,[t.createVNode(d,{handler:i},{default:t.withCtx(()=>[t.createTextVNode("取消")]),_:1}),t.createVNode(d,{handler:l,type:"primary"},{default:t.withCtx(()=>[t.createTextVNode("提交")]),_:1})])]),key:"0"}:void 0]),1040,["modelValue"])}}}),L={install(e){e.component(y.name,y)}};exports.CmDialog=y;exports.default=L;
